<html>
<head>
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Data table -->
    <link href="https://unpkg.com/gridjs/dist/theme/mermaid.min.css" rel="stylesheet" />
    <script src="https://unpkg.com/gridjs/dist/gridjs.umd.js"></script>

    <!-- Animation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>

    <!-- Map -->
    <link href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" rel="stylesheet" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <!-- sweetalert2 -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/11.8.0/sweetalert2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/11.8.0/sweetalert2.all.min.js"></script>
    <title>Zyler Wies Homework 6</title>
</head>
<body>
    <div class="btn-group" style="margin:20px;">
        <a href="index.html" class="btn btn-success">Page 1</a>
        <a href="courseinfo.html" class="btn btn-warning">Page 2</a>
    </div>
    <br />
    <div class="btn-group" style="margin:20px;">
        <button id="stubtn" class="btn btn-primary">Get Students</button>
        <button id="cbtn" class="btn btn-primary">Get Courses</button>
        <button id="ebtn" class="btn btn-primary">Get Enrollments</button>
    </div>
    <div id="table"></div>
 

    <script>
        "use strict";
        var g;
        var grid = null;


        let stubtn = document.querySelector("#stubtn")
        let cbtn = document.querySelector("#cbtn")
        let ebtn = document.querySelector("#ebtn")

        stubtn.addEventListener("click", async () => {

            if (grid != null) {
                grid.destroy();
            }
            let url = "https://juxinglong.github.io/static/HW/hw6/Students.json";
            let r = await fetch(url);
            let rj = await r.json();

            g = rj;
            let params;
            params = {
                data: rj,
                pagination: { limit: 10, },
                search: true,
                sort: true,
                width: 1200,
            };
            let table = document.querySelector("#table");
            grid = new gridjs.Grid(params);
            grid.render(table);

            params = {
                title: "Student Data Loaded",
                text: "View all student information",
                icon: "success",

            };
            Swal.fire(params);
        })

        cbtn.addEventListener("click", async () => {

            if (grid != null) {
                grid.destroy();
            }
            let url = "https://juxinglong.github.io/static/HW/hw6/Courses.json";
            let r = await fetch(url);
            let rj = await r.json();

            g = rj;
            let params;
            params = {
                data: rj,
                pagination: { limit: 10, },
                search: true,
                sort: true,
                width: 1200,
            };
            let table = document.querySelector("#table");
            grid = new gridjs.Grid(params);
            grid.render(table);

            params = {
                title: "Course Data Loaded",
                text: "View all course information",
                icon: "success",

            };
            Swal.fire(params);
        })
        ebtn.addEventListener("click", async () => {

            if (grid != null) {
                grid.destroy();
            }
            let url = "https://juxinglong.github.io/static/HW/hw6/Enrollments.json";
            let r = await fetch(url);
            let rj = await r.json();

            g = rj;
            let params;
            params = {
                data: rj,
                pagination: { limit: 10, },
                search: true,
                sort: true,
                width: 1200,
            };
            let table = document.querySelector("#table");
            grid = new gridjs.Grid(params);
            grid.render(table);

            params = {
                title: "Enrollment Data Loaded",
                text: "View all Enrollment information",
                icon: "success",

            };
            Swal.fire(params);
        })


    </script>


</body>
</html>